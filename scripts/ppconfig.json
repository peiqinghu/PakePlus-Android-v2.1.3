{"message":"Not Found","documentation_url":"https://docs.github.com/rest/git/refs#get-all-references-in-a-namespace","status":"404","name":"eabadbbbedd","url":"http://223.70.92.38:28080/main-app/dashboard","showName":"test","appid":"com.test.pakeplus","icon":"","iconPath":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":true,"version":"1.0.3","preview":"desktop","platform":["1-1"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"// very important, if you don't know what it is, don't touch it\n// 非常重要，不懂代码不要动，这里可以解决80%的问题，也可以生产1000+的bug\n\n/**\n * @description 安全跳转函数，针对 WebView 优化，特别处理 hash 路由\n * @param {string} url 目标 URL\n * @returns {void}\n */\nfunction safeNavigate(url) {\n    if (!url || typeof url !== 'string') {\n        console.warn('[safeNavigate] 无效的 URL:', url)\n        return\n    }\n    \n    console.log('[safeNavigate] 准备跳转到:', url)\n    \n    // 针对包含 hash 的 URL 特殊处理（如 #/ 这种 hash 路由）\n    const hasHash = url.indexOf('#') > -1\n    if (hasHash) {\n        console.log('[safeNavigate] 检测到 hash 路由:', url)\n    }\n    \n    // 使用异步方式 + 多重降级策略确保跳转成功\n    setTimeout(() => {\n        console.log('[safeNavigate] 开始执行跳转')\n        \n        // 策略1: 使用 window.location.replace (推荐用于跨路径跳转)\n        try {\n            window.location.replace(url)\n            console.log('[safeNavigate] 使用 location.replace 跳转成功')\n            return\n        } catch (e) {\n            console.warn('[safeNavigate] location.replace 失败:', e)\n        }\n        \n        // 策略2: 使用 window.location.assign\n        try {\n            window.location.assign(url)\n            console.log('[safeNavigate] 使用 location.assign 跳转成功')\n            return\n        } catch (e) {\n            console.warn('[safeNavigate] location.assign 失败:', e)\n        }\n        \n        // 策略3: 直接设置 location.href\n        try {\n            window.location.href = url\n            console.log('[safeNavigate] 使用 location.href 跳转成功')\n            return\n        } catch (e) {\n            console.warn('[safeNavigate] location.href 失败:', e)\n        }\n        \n        // 策略4: 创建隐藏 <a> 标签并触发点击（模拟真实用户行为）\n        try {\n            const anchor = document.createElement('a')\n            anchor.href = url\n            anchor.style.display = 'none'\n            anchor.rel = 'noopener noreferrer'\n            document.body.appendChild(anchor)\n            \n            // 使用 MouseEvent 模拟真实点击\n            const clickEvent = new MouseEvent('click', {\n                view: window,\n                bubbles: true,\n                cancelable: true\n            })\n            anchor.dispatchEvent(clickEvent)\n            \n            // 清理\n            setTimeout(() => {\n                document.body.removeChild(anchor)\n            }, 100)\n            \n            console.log('[safeNavigate] 使用模拟点击跳转')\n        } catch (e) {\n            console.error('[safeNavigate] 所有跳转策略均失败:', e)\n        }\n    }, 10) // 使用 10ms 延迟，确保在 WebView 事件循环中执行\n}\n\nconst hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    )\n    console.log('[hookClick] origin:', origin, 'isBaseTargetBlank:', isBaseTargetBlank)\n    \n    if (\n        (origin && origin.href && origin.target === '_blank') ||\n        (origin && origin.href && isBaseTargetBlank)\n    ) {\n        e.preventDefault()\n        console.log('[hookClick] 拦截新标签页打开，目标:', origin.href)\n        safeNavigate(origin.href)\n    } else {\n        console.log('[hookClick] 不处理此点击')\n    }\n}\n\n/**\n * @description 重写 window.open，确保在 WebView 中也能正常跳转\n */\nwindow.open = function (url, target, features) {\n    console.log('[window.open] 被调用 ===>')\n    console.log('  URL:', url)\n    console.log('  target:', target)\n    console.log('  features:', features)\n    console.log('  调用栈:', new Error().stack)\n    \n    // 验证 URL\n    if (!url) {\n        console.warn('[window.open] URL 为空，忽略')\n        return null\n    }\n    \n    // 使用安全跳转函数\n    safeNavigate(String(url))\n    \n    // 返回 window 对象，防止调用方检测到 null\n    return window\n}\n\n// 监听所有可能触发跳转的事件\ndocument.addEventListener('click', hookClick, { capture: true })\n\n// 额外监听：捕获所有未处理的链接点击\ndocument.addEventListener('click', (e) => {\n    const target = e.target\n    if (target && target.tagName === 'A' && target.href) {\n        console.log('[全局点击监听] 链接被点击:', target.href, '目标:', target.target)\n    }\n}, true)\n\n// 页面加载完成后输出诊断信息\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n        console.log('[诊断] 当前页面 URL:', window.location.href)\n        console.log('[诊断] window.open 已被重写:', window.open.toString().indexOf('safeNavigate') > -1)\n    })\n} else {\n    console.log('[诊断] 当前页面 URL:', window.location.href)\n    console.log('[诊断] window.open 已被重写:', window.open.toString().indexOf('safeNavigate') > -1)\n}\n","isHtml":false,"htmlPath":"","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.3","iosRepo":"PakePlus-iOS-v2.1.3","androidRepo":"PakePlus-Android-v2.1.3","more":{"windows":{"label":"eabadbbbedd","title":"test","url":"http://223.70.92.38:28080/main-app/dashboard","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":800,"height":600,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"eabadbbbedd","showName":"test","version":"1.0.3","webUrl":"http://223.70.92.38:28080/main-app/dashboard","id":"com.test.pakeplus.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":true,"safeArea":"all"},"android":{"name":"eabadbbbedd","showName":"test","version":"1.0.3","webUrl":"http://223.70.92.38:28080/main-app/dashboard","id":"com.test.pakeplus.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":true,"safeArea":"all"},"desktop":{"name":"eabadbbbedd","showName":"test","version":"1.0.3","id":"com.test.pakeplus.desktop","desc":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","webUrl":"http://223.70.92.38:28080/main-app/dashboard","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}